# nuxt-poc

> Proof of Concept for Stepping into code

## Problem to Solve

To debug, how does one set breakpoints and step into one's **application** code, in a Nuxt JS app? It's apparently not as straightforward as one would have hoped. ðŸ˜ž

## Purpose of This Repo

As part of [this convo](https://discordapp.com/channels/473401852243869706/473406004751499275/566111038689378329) in Discord (the _"official"_ place where the Nuxt community interacts), I put up this repo to _"pair up"_ and try and figure out how to set break points and step into one's Nuxt, **application** code to debug.  It seems that Nuxt's dependence on Webpack makes this **VERY** challenging. 

## Context of the App in this Repo

To facilitate application code, I added a simple, Nuxt page route and middleware to have some code that I should be able to step into: 

â€¢ This is [the very simple middleware](https://github.com/monico-moreno/nuxt-poc/blob/master/middleware/monico-mw.js) .

â€¢ this is where the middleware [is declared](https://github.com/monico-moreno/nuxt-poc/blob/master/nuxt.config.js#L5) in the nuxt.config.js 

â€¢ this is [the simple page route](https://github.com/monico-moreno/nuxt-poc/blob/master/pages/monico.vue) (not sure was needed)

# Setting Breakpoints & Stepping Into

I try to step into the code by doing the following: 

(1)  Run: 
     
    NODE_ENV=development node --inspect-brk ./server/index.js

(2) I jump on chrome uri: `chrome:inspect` 

(2.5) go to the inspector window 

(3) i set a break point [here](https://github.com/monico-moreno/nuxt-poc/blob/master/middleware/monico-mw.js#L3)

(4) then i click run (in chrome inspector window).

(5) I open up a chrome tab and go to http://localhost:3000 

(6) the middleware outputs the req.rawHeaders to the terminal console successfully, from [the code](https://github.com/monico-moreno/nuxt-poc/blob/master/middleware/monico-mw.js#L3) where the breakpoint is set.

(7) but, the chrome inspector never stops at the [above breakpoint](https://github.com/monico-moreno/nuxt-poc/blob/master/middleware/monico-mw.js#L3).

# Notes

Given [`rafal`'s suggestion](https://discordapp.com/channels/473401852243869706/473406004751499275/566139468407504897), I tried using source maps.  Here's [my implementation of it](https://github.com/monico-moreno/nuxt-poc/blob/master/nuxt.config.js#L60), but it still didn't work. 


# Below is Auto-Generated by Nuxt

## Build Setup

``` bash
# install dependencies
$ npm install

# serve with hot reload at localhost:3000
$ npm run dev

# build for production and launch server
$ npm run build
$ npm start

# generate static project
$ npm run generate
```

For detailed explanation on how things work, checkout [Nuxt.js docs](https://nuxtjs.org).
